@if (esAnfitrion) {
  <div class="container my-5">
    <h2 class="mb-4 text-success">Editar viaje</h2>

    <form [formGroup]="viajeForm" (ngSubmit)="guardarCambios()" class="p-4">
      <div class="mb-1">
        <label for="nombre_viaje" class="form-label">Nombre del viaje</label>
        <input type="text" id="nombre_viaje" class="form-control" formControlName="nombre_viaje" placeholder="Título del viaje" />
        <div class="text-danger">
            @if (checkError('nombre_viaje', 'required')) {
                    <small>Este campo es obligatorio.</small>
                }@if (checkError('nombre_viaje', 'pattern')) {
                    <small>Debe tener al menos 3 letras y texto.</small>
                  }
        </div>
    </div>

    
    <div class="mb-1">
      <label for="fecha_inicio" class="form-label">Fecha de inicio</label>
      <input type="date" id="fecha_inicio" class="form-control" formControlName="fecha_inicio" min="2024-01-01"
      max="2100-12-31" />
          <div class="text-danger">
              @if (checkError('fecha_inicio', 'required')) {
                      <small>Este campo es obligatorio.</small>
                  }
          </div>
  </div>
    
  <div class="mb-1">
    <label for="fecha_fin" class="form-label">Fecha de fin</label>
    <input type="date" id="fecha_fin" class="form-control" formControlName="fecha_fin" min="2024-01-01"
    max="2100-12-31"/>
        <div class="text-danger">
            @if (checkError('fecha_fin', 'required')) {
                    <small>Este campo es obligatorio.</small>
                } @if (viajeForm.errors?.['fechaInvalida'] && viajeForm.touched) {
                    <small>La fecha de fin debe ser posterior a la fecha de inicio.</small>}
        </div>
</div>
    
<div class="mb-1">
  <label for="coste_por_persona" class="form-label">Coste estimado por persona (€)</label>
  <input type="number" id="coste_por_persona" class="form-control" formControlName="coste_por_persona" placeholder="Indíca el precio mínimo por persona" />
      <div class="text-danger">
          @if (checkError('coste_por_persona', 'required')) {
                  <small>Este campo es obligatorio.</small>
              }
      </div>  
</div>
    
<div class="mb-1">
  <label for="personas_minimas" class="form-label">Número de viajeros</label>
  <input type="number" id="personas_minimas" class="form-control" formControlName="personas_minimas" placeholder="Indíca el número de personas para realizar este viaje" />
      <div class="text-danger">
          @if (checkError('personas_minimas', 'required')) {
                  <small>Este campo es obligatorio.</small>
              }
      </div>
</div>
    
      <div class="mb-1">
        <label for="localizacion" class="form-label">Localizacion</label>
        <select id="localizacion" class="form-control" formControlName="localizacion" >
            <option value="">Selecciona una ciudad</option>
            @for (ciudad of ciudadesSpain; track ciudad) {
                <option>{{ ciudad }}</option>
            }
            <option>Otro...</option>
        </select>
            <div class="text-danger">
                @if (checkError('ciudad', 'required')) {
                        <small>Este campo es obligatorio.</small>
                    }
            </div>  
    </div>
    
    <div class="mb-1">
      <label for="itinerario" class="form-label">Itinerario</label>
      <textarea id="itinerario" rows="3" class="form-control" formControlName="itinerario" placeholder="Cuéntale a los viajeros cuál es el plan, qué se hará cada día o qué se visitará...">
      </textarea>
          <div class="text-danger">
              @if (checkError('itinerario', 'required')) {
                      <small>Este campo es obligatorio.</small>
                  }
          </div>  
  </div>
    
      <div class="mb-3">
        <label for="imagen" class="form-label">Imagen (URL)</label>
        <input type="text" id="imagen" class="form-control" formControlName="imagen" />
      </div>
    
      <div class="d-flex gap-2">
        <button type="submit" class="btn btn-success" [disabled]="viajeForm.invalid">Guardar cambios</button>
        <button type="button" class="btn btn-secondary" (click)="cancelar()">Cancelar</button>
      </div>
    </form>
  </div>
}

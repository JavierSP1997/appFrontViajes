<!-- Finder para filtrar viajes -->
<app-finder></app-finder>


<div class="text-end">
    <button id="clear" class="btn btn-secondary" (click)="quitarFiltros()">Quitar filtros</button>
</div>

<!-- Grid de cards -->
<section class="m-4 seccion container m-auto">
    <article class="viajes">
        @for (viaje of arrViajes; track viaje.id_viaje) {
        <section class="viaje position-relative" style="transition: opacity 0.3s ease"
            [class.bg-light]="viaje.estado === 'finalizado'" [class.opacity-75]="viaje.estado === 'finalizado'">

            <!-- Sello superior si estÃ¡ finalizado -->
            @if (viaje.estado === 'finalizado') {
            <div class="sello-finalizado">VIAJE FINALIZADO</div>
            }
            <figure>
                <figcaption><span>{{viaje.nombre_viaje}}</span></figcaption>
                <img [src]="viaje.imagen ? viaje.imagen : 'https://fundacionglobalnature.org/wp-content/plugins/elementor/assets/images/placeholder.png'"
                    alt="">
            </figure>
            <div class="parrafos">
                <ul class="list-unstyled">
                    <li>Fecha del viaje <br> <span>{{viaje.fecha_inicio | date: 'dd-MM-YYYY'}}</span> </li>
                    <li>Destino <br> <span>{{viaje.localizacion}}</span></li>
                </ul>
            </div>
            <button class="info" (click)="irATrip(viaje.id_viaje)">+ INFO</button>
        </section>
        }
    </article>

</section>
<div class="dropdown">
  <button class="btn nav-link position-relative" (click)="toggleDropdown()">
    <i class="fas fa-bell"></i>
    @if (notificaciones.length > 0) {
      <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
        {{ notificaciones.length }}
      </span>
    }
  </button>

  @if (isDropdownOpen) {
    <div class="dropdown-menu custom-dropdown-menu show">

      @if (notificaciones.length === 0) {
        <span class="dropdown-item text-muted">No hay notificaciones</span>
      }

      @for (n of notificaciones; track n.id_notificacion) {
        <div class="dropdown-item-container">
          <span class="text-muted small">{{ n.mensaje }}</span>
          <button
            class="btn-close notification-close"
            aria-label="Cerrar"
            (click)="cerrarNotificacion(n.id_notificacion)"
          ></button>
        </div>
      }
    </div>
  }
</div>
